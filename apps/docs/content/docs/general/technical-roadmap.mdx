---
title: Technical Roadmap
---

# Technical Roadmap & Architecture Evolution

This document tracks the **technical evolution** of the codebase.
Each step corresponds to a specific Instruction file in `agent/instructions/lite/`.

---

## 1. Phase 1: Environment & Infra (The Foundation)
**Goal**: Ensure a stable, consistent, and standardized development environment.

- [x] **001**: Setup Dependencies (Enforce `date-fns`, ban `lodash`).
- [x] **002**: Standardize `src/libs` to `src/lib` (Completed).
- [x] **003**: Harden DevOps (Node engines, strict scripts).
- [x] **004**: Tailwind Config (Register layout tokens).
- [x] **004a**: Migrate Layout Tokens (Replace `[var(...)]` with semantic classes).
- [x] **005**: Prepare Standard Libs (Batch install i18next, dropzone, sonner, etc.).

---

## 2. Phase 2: Core Architecture Refactor (The Surgery)
**Goal**: Fix critical architectural flaws (Data consistency, Perf) before building features.

- [x] **006**: Standardize DB IDs (Migrate `++id` to `UUID`).
- [x] **007**: Refactor Persistence (Fix "Dual-Write" bug).
- [ ] **008**: Fix Root Performance (Isolate Audio rendering).
- [ ] **009**: Refactor Routing (Fix redirect logic).
- [ ] **010**: Optimize Search Data (Add Dexie Indexes).
- [ ] **011**: Type-Safe I18n Transition (Prepare for i18next).
- [ ] **012**: Extract Common Components (DRY).

---

## 3. Phase 3: Standardization (The Industrialization)
**Goal**: Replace "hand-rolled" logic with industry-standard libraries.

- [ ] **013**: Standardize I18n (Migrate to `react-i18next`).
- [ ] **014**: Standardize Forms (`react-hook-form` + `zod`).
- [ ] **015**: Standardize File Drop (`react-dropzone`).

---

## 4. Phase 4: UX & Aesthetic Upgrade (The Vibe)
**Goal**: Elevate the look and feel to "Premium/Apple-like".

- [ ] **016**: Upgrade UI Design (Glassmorphism, Semantic Colors).
- [ ] **017**: Install Sonner (Replace Radix Toast).
- [ ] **018**: Refactor Search UI (Migrate to `cmdk`).
- [ ] **019**: Enhance Interactions (Hotkeys & Gestures).
- [ ] **020**: Cleanup Magic Values (Remove `z-[999]`, hardcoded colors).
- [ ] **021**: Integrate React Bits (Animations).
- [ ] **022**: Optimize Typography (1.6 line-height, Fluid Zoom).
- [ ] **023**: Shared Element Transitions (Mini -> Full Player).
- [ ] **024**: App Boot Sequence (Logo animation).

---

## 5. Phase 5: Resilience & Features (The Product)
**Goal**: Robustness in the real world (Offline, Battery, Privacy).

- [ ] **025**: Implement Offline Mode.
- [ ] **026**: Harden Player State Machine.
- [ ] **027**: Harden Resource Management (Revoke Object URLs).
- [ ] **028**: Integrate Media Session API (OS Sync).
- [ ] **029**: Tab Synchronization (Singleton Playback).
- [ ] **030**: Background Performance (Battery Saver).
- [ ] **031**: Logical Properties (RTL Support).
- [ ] **032**: Harden Audio Unit Tests.
- [ ] **033**: Feature: Sleep Timer (P0).
- [ ] **034**: Feature: OPML Import/Export (P0).
- [ ] **035**: Feature: Personal Vault (Full Data Export).
- [ ] **036**: Harden PWA Metadata (iOS Icons).
- [ ] **037**: Implement URL Slugs (Pretty Links).

---

## 6. Phase 6: Production Readiness (The Launch)
**Goal**: Polish the app for public release and compliance.

- [ ] **038**: Setup Deployment Pipeline (Vercel/Docker).
- [ ] **039**: Implement Legal Pages (Privacy/Terms).
- [ ] **040**: Implement Smoke E2E Tests (Playwright).
- [ ] **041**: Implement Strict CSP (Security).
- [ ] **045**: Onboarding & Empty States (UX).
- [ ] **046**: Image Fallback Strategy (Aesthetics).
- [ ] **052**: User Feedback Loop (Retention).
- [ ] **055**: Content Disclaimer & Attribution (Legal).

---

## 7. Phase 7: Engineering Excellence (The Future)
**Goal**: Harden the architecture for multi-developer collaboration.

- [ ] **042**: Data Retention Policy (Performance).
- [ ] **043**: PWA Update Lifecycle (UX).
- [ ] **044**: Setup CI Pipeline (Automation).
- [ ] **047**: Local Error Logger (Supportability).
- [ ] **048**: Accessibility Standards (Compliance).
- [ ] **049**: Data Integrity on Import (Reliability).
- [ ] **050**: Bundle Size & Perf Budget (Monitoring).
- [ ] **051**: Iframe & HTML Sandbox (Security).
- [ ] **053**: Offline Content Management (Utility).
- [ ] **054**: Advanced Sorting & Filtering (Utility).
- [ ] **056**: Multilingual Typography (Quality).
- [ ] **057**: Direct DB Access Guard (Anti-corruption).
- [ ] **058**: MSW for Testing (Robustness).
- [ ] **059**: Architecture Manifesto (Culture).

---

## 8. Phase 8: Industrial Hardening (The Fortress)
**Goal**: Absolute reliability under extreme conditions.

- [ ] **060**: PWA Audio Streaming Cache (Range Requests).
- [ ] **061**: Memory Stress Test (Long Sessions).
- [ ] **062**: Proxy Failover Mechanism (Resilience).
- [ ] **063**: I18n Coverage Audit (Automation).
- [ ] **064**: IndexedDB Migration Engine (Versioning).
- [ ] **065**: Browser Support Matrix (Polyfills).
- [ ] **066**: Harden Turborepo Cache Config (CI Sync).
- [ ] **067**: Atomic Write Safeguards (Reliability).
- [ ] **068**: Audit & Fix Async Race Conditions (UI Integrity).

---

## 9. Phase 9: Enterprise Grade (The Pinnacle)
**Goal**: Elite-tier performance, security, and compliance.

- [ ] **069**: Robust Metadata Parser (Functionality).
- [ ] **070**: Skeleton UI System (UX).
- [ ] **071**: Global Overlay Manager (Architecture).
- [ ] **072**: Media Cache Eviction Policy (Maintenance).
- [ ] **073**: Network Backoff & Circuit Breaker (Resilience).
- [ ] **074**: Storage Quota Monitoring (UX).
- [ ] **075**: Intl API Upgrade (Quality).
- [ ] **076**: Granular Error Boundaries (Fault Tolerance).
- [ ] **077**: Lighthouse CI Budget (Automated QA).
- [ ] **078**: Dependency Audit & License Policy (Compliance).
- [ ] **079**: Audit & Fix Floating Promises (Integrity).
- [ ] **080**: Audit & Fix Event Listener Leaks (Memory).
- [ ] **081**: Optimize Zustand Selectors (Performance).
- [ ] **082**: Enforce CSS Isolation (Security).

---

## 10. Future Phase: "Hybrid Backend" (v2.0)
**Goal**: Optional cloud sync for power users.

### Architectural Change
```mermaid
graph TD
    A[Vite Client] -->|REST| B[Spring Boot API]
    A -->|Direct| C[IndexedDB (Offline Cache)]
    B --> D[PostgreSQL]
```

### Key Modules
1. **Auth**: JWT-based stateless auth.
2. **Sync Engine**: "Last Write Wins" sync strategy.
3. **CORS Proxy**: Self-hosted proxy.

---

## 11. SSR Strategy (Decision Log)

**Verdict**: **No SSR needed for App.**
- The core app is an authenticated/local dashboard. SEO is irrelevant.
