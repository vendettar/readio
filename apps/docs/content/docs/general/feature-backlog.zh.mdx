---
title: 功能待办
---

# 产品功能待办与想法

本文档作为未来功能想法、用户请求和非关键增强功能的暂存区。
此处的项目**尚未排期**开发。

---

## 🎧 音频与播放

### 1. 睡眠定时器 (P0)
- **目标**: 在 X 分钟或剧集结束后停止播放。
- **复杂度**: 低。
- **实现**: `useSleepTimer` hook + Store 状态。

### 2. 智能倍速 / 跳过静音 (P1)
- **背景**: 播客播放器通常会跳过静音以节省时间。
- **目标**: 实现客户端静音检测或使用元数据跳过空白。
- **复杂度**: 高 (音频处理)。

### 3. 播客章节 (P0)
- **描述**: 支持 `<podcast:chapters>` JSON/PSC。
- **目标**: 在进度条和列表中显示章节标记。
- **复杂度**: 中 (解析 + UI)。

### 4. 播放列表持久化 (P1)
- **背景**: 目前，“接下来播放”队列在内存中 (Zustand)。
- **目标**: 将当前队列持久化到 Dexie。
- **复杂度**: 中。

---

## 📚 库与组织

### 1. OPML 导入/导出 (P0) [已完成]
- **目标**: 允许用户从其他应用迁移。
- **格式**: 标准 OPML XML。
- **复杂度**: 低 (XML 解析)。

### 2. 自定义播放列表 / 集合 (P1)
- **背景**: 目前我们只有“收藏”和“订阅”。
- **目标**: 允许用户创建自定义文件夹或列表（例如，“编程播客”，“助眠歌单”）。
- **复杂度**: 中 (新 DB 表)。

### 3. 收听统计 (P1)
- **目标**: 仪表板显示收听时长，热门播客。
- **来源**: 本地 IndexedDB 历史记录。
- **UI**: Recharts。

### 4. 元数据解析器升级 (P1) [已完成]
- **目标**: 为本地文件引入稳定的 ID3 解析。
- **范围**: 封面、专辑/标题、准确时长。

---

## 🔍 发现与搜索

### 1. 高级筛选
- **目标**: 按时长、日期、语言筛选。
- **复杂度**: 低 (前端筛选)。

---

## 🚀 性能 & PWA

### 1. 离线模式 (P0) [已完成]
- **目标**: 缓存音频文件并允许无网络播放。
- **技术**: Service Worker + Cache Storage API。

### 2. Web Worker 分流 (P1)
- **目标**: 将 RSS 解析和文件 ID3 读取移至 Worker。
- **好处**: 在重载导入期间解锁主线程。

### 3. 媒体缓存淘汰策略 (P1)
- **目标**: 使用 LRU 自动裁剪音频缓存。
- **好处**: 防止存储空间被占满。

---

## 🧭 发布与合规

### 1. 部署流水线 (P0) [已完成]
- **目标**: 文档化并标准化生产部署（Vercel 为主，Docker 可选）。
- **复杂度**: 低。

### 2. 法律页面 (P0)
- **目标**: 添加隐私政策与服务条款路由。
- **复杂度**: 低。

### 3. Smoke E2E 测试 (P0)
- **目标**: 为 3 条核心用户路径增加 Playwright 烟雾测试。
- **复杂度**: 中。

### 4. 严格 CSP (P0)
- **目标**: 为 RSS 渲染与外部资源启用 CSP 保护。
- **复杂度**: 中。

### 5. 数据保留策略 (P1)
- **目标**: 自动修剪播放历史，控制 IndexedDB 规模。
- **复杂度**: 中。

### 6. PWA 更新生命周期 (P1)
- **目标**: 发现新版本时提示用户刷新并更新。
- **复杂度**: 中。

### 7. CI 流水线 (P0)
- **目标**: 在 GitHub Actions 中强制运行 lint/typecheck/tests。
- **复杂度**: 低。

---

## ✨ 体验与清晰度

### 1. 新手引导与空状态 (P1)
- **目标**: 用引导替代空白页面。
- **复杂度**: 低。

### 2. 图片兜底策略 (P1)
- **目标**: 加载骨架与失败兜底图标。
- **复杂度**: 低。

### 3. 离线内容可视化 (P1)
- **目标**: 展示离线标识并提供缓存清理。
- **复杂度**: 中。

### 4. 单集排序与筛选 (P1)
- **目标**: 按日期/时长/状态排序与筛选。
- **复杂度**: 中。

### 5. 骨架屏系统 (P1)
- **目标**: 用 Shimmer 骨架替代 Loading 文案。
- **复杂度**: 低。

### 6. 覆盖层分层标准化 (P1)
- **目标**: 统一 Portal 使用与 z-index tokens。
- **复杂度**: 低。

### 7. 存储配额监控 (P1)
- **目标**: 在 Settings 显示配额与预警。
- **复杂度**: 低。

---

## 🛡️ 安全与完整性

### 1. 导入完整性校验 (P0)
- **目标**: 校验 ID 冲突与断裂引用。
- **复杂度**: 中。

### 2. Iframe Sandbox 策略 (P1)
- **目标**: 用沙箱 iframe 隔离不可信富文本。
- **复杂度**: 中。

### 3. 内容归属与免责声明 (P0)
- **目标**: 展示归属声明与版权申诉入口。
- **复杂度**: 低。

### 4. PWA 音频 Range 缓存 (P0)
- **目标**: 支持离线 seek 的 Range 请求缓存。
- **复杂度**: 高。

### 5. 网络退避与断路器 (P1)
- **目标**: 避免重试风暴并提高代理韧性。
- **复杂度**: 中。

### 6. 依赖审计与许可证策略 (P0)
- **目标**: CI 强制漏洞与许可证白名单检查。
- **复杂度**: 低。

### 7. RSS 内容 CSS 隔离 (P1)
- **目标**: 防止 show-notes HTML 污染应用样式。
- **复杂度**: 低。

---

## ⚙️ 性能与质量

### 1. 包体积预算 (P0)
- **目标**: 在 CI 中强制包体积上限。
- **复杂度**: 中。

### 2. MSW 网络测试 (P1)
- **目标**: 使用 MSW 模拟外部 API。
- **复杂度**: 中。

### 3. 内存压测 (P1)
- **目标**: 长会话内存 profiling 与对比。
- **复杂度**: 中。

### 4. 异步竞态审计 (P0)
- **目标**: 保证最后一次点击生效。
- **复杂度**: 中。

### 5. 细粒度错误边界 (P1)
- **目标**: 组件级隔离，避免单点崩溃。
- **复杂度**: 低。

### 6. Lighthouse CI 预算 (P1)
- **目标**: 在 CI 中强制 A11y/性能阈值。
- **复杂度**: 低。

### 7. 浮动 Promise 审计 (P1)
- **目标**: 强制异步 store 显式错误处理。
- **复杂度**: 低。

### 8. 事件监听泄漏审计 (P1)
- **目标**: 统一全局监听清理。
- **复杂度**: 低。

### 9. Zustand 选择器优化 (P1)
- **目标**: 强制原子选择器与 `useShallow`。
- **复杂度**: 低。

---

## 🌍 排版与本地化

### 1. 多语言排版 (P1)
- **目标**: 为不同语言配置字体栈。
- **复杂度**: 低。

### 2. I18n 覆盖审计 (P0)
- **目标**: 构建时检查多语言 key 对齐。
- **复杂度**: 低。

### 3. Intl API 格式化升级 (P1)
- **目标**: 日期/数字/相对时间格式化迁移到 Intl API。
- **复杂度**: 低。

---

## 🧭 协作与治理

### 1. DB 访问防护 (P1)
- **目标**: 禁止组件直接访问数据库层。
- **复杂度**: 低。

### 2. 贡献指南与宣言 (P1)
- **目标**: 文档化指令驱动流程与架构规范。
- **复杂度**: 低。

### 3. 代理故障转移 (P0)
- **目标**: 429/5xx 自动切换代理。
- **复杂度**: 中。

### 4. IndexedDB 迁移 (P0)
- **目标**: 从清库策略升级为版本化迁移。
- **复杂度**: 高。

### 5. 浏览器支持矩阵 (P1)
- **目标**: browserslist + polyfill 策略。
- **复杂度**: 中。

### 6. Turborepo 缓存加固 (P1)
- **目标**: 明确 Turbo inputs/outputs。
- **复杂度**: 低。

### 7. 原子写入防护 (P0)
- **目标**: 事务化写入与启动自愈。
- **复杂度**: 中。
