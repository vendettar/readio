---
title: Feature Patterns
---

## Motion & Spatial Metaphors

- **Shared Element Transitions**: When a persistent element (like Podcast Artwork) moves from one view to another (e.g. Mini Player to Full Player), it MUST use a shared layout transition (`layoutId` in Framer Motion) to maintain spatial orientation.
- **layoutId Uniqueness**: `layoutId` must include a view context (e.g., `miniplayer`/`fullplayer`/`list`) to avoid collisions when multiple lists render the same artwork simultaneously.
- **Entrance Animations**: Lists (Files, Episodes) should not appear instantly. Use a staggered fade-in + slide-up effect for items (Duration: 300ms total).
- **App Boot**: Do not show half-loaded UI. Use a centered App Logo with a breathing animation while stores are hydrating from Dexie. Use `AnimatePresence` to fade out the loader.

## List Row Interactions

- **Hover Layer**: Use `bg-accent/50` for the background highlight of list rows and cards.
- **Subtle Separation**: Use `border-border/50` for dividers.
- **Smart Dividers**: Dividers should hide automatically on the active (hovered) row and its immediate neighbor to create a "floating" focused card effect.
- **Action Visibility**: Interactive buttons (Play, Favorite, Menu) should typically appear or increase in opacity on row hover.

## File Drop Interaction

- **Global Drop Zone**: In functional areas (like Files), the entire content area SHOULD be a drop target.
- **Visual Feedback**: Use a full-screen or area-wide overlay with code `backdrop-blur-md` and `bg-background/80` (Glassmorphism) when `isDragActive` triggers.
- **Validation & Toasts**: Immediate validation against file schemas (Type/Size). Failed files MUST trigger an error Toast.
- **Overlay Content**: Display a prominent "Drop to upload" message with an animated icon (e.g. bouncing Upload icon) to confirm active state.

## Planned (Pending Execution)

- **Onboarding Empty States**: First-run guidance for Subscriptions, Files, Favorites, History (Instruction 045).
- **Image Fallback Strategy**: Loading skeleton + fallback icon for broken artwork (Instruction 046).
- **Offline Content Badges**: Visual indicator for locally cached content + cleanup actions (Instruction 053).
- **Episode Sorting/Filtering UI**: Controls for sort/filter in episode lists (Instruction 054).
