---
title: Feature Patterns
---

## Motion & Spatial Metaphors

- **Shared Element Transitions**: When a persistent element (like Podcast Artwork) moves from one view to another (e.g. Mini Player to Full Player), it MUST use a shared layout transition (`layoutId` in Framer Motion) to maintain spatial orientation.
- **layoutId Uniqueness**: `layoutId` must include a view context (e.g., `miniplayer`/`fullplayer`/`list`) to avoid collisions when multiple lists render the same artwork simultaneously.
- **Entrance Animations**: Lists (Files, Episodes) should not appear instantly. Use a staggered fade-in + slide-up effect for items (Duration: 300ms total).
- **App Boot**: Do not show half-loaded UI. Use a centered App Logo with a breathing animation while stores are hydrating from Dexie. Use `AnimatePresence` to fade out the loader.

## List Row Interactions

- **Hover Layer**: Use `bg-accent/50` for the background highlight of list rows and cards.
- **Subtle Separation**: Use `border-border/50` for dividers.
- **Smart Dividers**: Dividers should hide automatically on the active (hovered) row and its immediate neighbor to create a "floating" focused card effect.
- **Action Visibility**: Interactive buttons (Play, Favorite, Menu) should typically appear or increase in opacity on row hover.

- **Overlay Content**: Display a prominent "Drop to upload" message with an animated icon (e.g. bouncing Upload icon) to confirm active state.

## Search & Command Palette

- **Global Entry**: The search trigger in the sidebar MUST be an integrated search input that expands into a premium floating results overlay.
- **Keyboard-First**: Navigation within the palette MUST support Arrow keys and Enter (via `cmdk`).
- **Shortcut**: `Cmd+K` (or `Ctrl+K`) MUST be globally bound to open the palette.
- **Vibe**: The palette MUST use Premium Glass visuals (`backdrop-blur-xl`, `bg-popover/95`, `backdrop-saturate-150`).
- **Standardized Badge System**: All status indicators (Subscribed, Favorited, History) MUST use a unified, right-aligned **icon-based** style (text-primary color). When multiple states exist (e.g., Favorited AND History), ALL relevant icons MUST be displayed side-by-side, never overriding each other.

## Hotkeys & Gestures

- **Global Shortcuts**:
  - `Space`: Toggle Play/Pause (globally, except when typing in inputs).
  - `Arrow Left/Right`: Seek -/+ 15 seconds.
  - `Cmd/Ctrl + K`: Focus Search.
  - `Esc`: Close Overlays or Exit Full Player.
- **Touch Interaction**:
  - **Swipe Down**: Swiping down on the Full Player container (especially from the top drag handle) MUST collapse the player and return to the main view.
  - **Drag Handle**: A subtle visual handle (pill shape, low opacity) should be visible at the top of the Full Player to hint at swipe-down behavior.


## Planned (Pending Execution)

- **Onboarding Empty States**: First-run guidance for Subscriptions, Files, Favorites, History (Instruction 045).
- **Image Fallback Strategy**: 
  - RSS Episodes/Podcasts: Loading skeleton + fallback icon for broken artwork (Instruction 046).
  - **Local Files**: If metadata contains embedded artwork, display it. Otherwise, use the `FileAudio` lucide icon inside a `bg-muted` square with `shadow-inner`.

- **Offline Content Badges**: Visual indicator for locally cached content + cleanup actions (Instruction 053).
- **Episode Sorting/Filtering UI**: Controls for sort/filter in episode lists (Instruction 054).
